<mat-toolbar color="primary">
    <h1>Create a team</h1>
</mat-toolbar>

<div class="row" [hidden]="!teamsLoading">
    <div class="col-xs-12">
        <mat-spinner></mat-spinner>
    </div>
</div>

<main class="main" [hidden]="teamsLoading">
    <div class="row">
        <div class="col-xs-12 col-sm-4 col-sm-offset-4">
            <mat-form-field>
                <mat-label>Team name</mat-label>
                <input matInput type="text" [(ngModel)]="newTeam" (keydown.enter)="createTeam()">
                <button mat-button *ngIf="newTeam" matSuffix mat-icon-button aria-label="Clear"
                    (click)="clearSession()">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
        </div>

        <div class="col-xs-12 col-sm-4">
            <button mat-mini-fab color="primary" [disabled]="!newTeam" (click)="createTeam()" matTooltip="Create team">
                <mat-icon>add</mat-icon>
            </button>
        </div>
    </div>

    <div class="row animated slideInUp faster">
        <div class="col-xs-12 col-sm-4" *ngFor="let team of model.teams | async">

            <mat-card>
                <mat-card-header>
                    <mat-card-title>{{ team.name }}</mat-card-title>
                </mat-card-header>
                <mat-card-actions align="end">
                    <button mat-raised-button color="primary" (click)="goToTeam(team.key)">Join</button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</main>